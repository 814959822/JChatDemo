{"version":3,"sources":["uni-app:///main.js","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/chat/chat-set/chat-set.nvue?6b7f","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/chat/chat-set/chat-set.nvue?52b0","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/chat/chat-set/chat-set.nvue?4bee","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/chat/chat-set/chat-set.nvue?1e6c","uni-app:///pages/chat/chat-set/chat-set.nvue","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/chat/chat-set/chat-set.nvue?7696","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/chat/chat-set/chat-set.nvue?161f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/chat/chat-set/chat-set.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chat/chat-set/chat-set.nvue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chat-set.nvue?vue&type=template&id=b5dc56a6&\"\nvar renderjs\nimport script from \"./chat-set.nvue?vue&type=script&lang=js&\"\nexport * from \"./chat-set.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./chat-set.nvue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chat/chat-set/chat-set.nvue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-set.nvue?vue&type=template&id=b5dc56a6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.detail.chat_type === \"group\" ? _vm.detail.remark.trim() : null\n  var g1 = _vm.detail.chat_type === \"group\" ? _vm.detail.remark.trim() : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-set.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-set.nvue?vue&type=script&lang=js&\"","<style>\n  view,\n  label,\n  swiper-item,\n  scroll-view {\n    display:flex;\n    flex-direction:column;\n    flex-shrink: 0;\n    flex-grow: 0;\n    flex-basis: auto;\n    align-items: stretch;\n    align-content: flex-start;\n  }\n  view,\n  image,\n  input,\n  scroll-view,\n  swiper,\n  swiper-item,\n  text,\n  textarea,\n  video {\n    position: relative;\n    border: 0px solid #000000;\n    box-sizing: border-box;\n  }\n  swiper-item {\n    position: absolute;\n  }\n  button {\n    margin: 0;\n  }\n</style>\n<template>\r\n\r\n\t<view class=\"page\">\r\n\t\t\r\n\t\t<!-- 导航栏 -->\r\n\t\t<free-nav-bar :showRight='false' showBack title=\"聊天信息\">\r\n\t\t</free-nav-bar>\n\t\t<scroll-view :show-scrollbar='false'\t scroll-y=\"true\" >\n\t\t\t<!-- 个人  -->\n\t\t\t<free-divider></free-divider>\n\t\t\t<!-- 人 -->\n\t\t\t<view class=\"pt-2 bg-white flex flex-wrap pl-2 w-100\" >\n\t\t\t\t<!-- 单人 -->\n\t\t\t\t<view v-if=\"detail.chat_type==='user'\" @click='openUser' class=\"flex flex-column align-center justify-center my-2\"\n\t\t\t\t\tstyle=\"width: 142rpx;\">\n\t\t\t\t\t<free-avater :size=\"110\" :src='detail.avatar||\"/static/images/userpic.png\"'></free-avater>\n\t\t\t\t\t<text style=\"max-width: 110rpx;text-overflow: ellipsis;\" class=\"text-ellipsis font-sm mt-1 text-light-muted\">{{detail.name}}</text>\n\t\t\t\t</view>\n\t\t\t\t<!-- 群聊 -->\n\t\t\t\t<view v-else v-for=\"(item,index) in list\" :key=\"index\" @click='openUser(item)'\n\t\t\t\t\tclass=\"flex flex-column align-center justify-center my-2\" style=\"width: 142rpx;\">\n\t\t\t\t\t<free-avater :size=\"110\" :src='item.avatar||\"/static/images/userpic.png\"'></free-avater>\n\t\t\t\t\t<text style=\"max-width: 100rpx;text-overflow: ellipsis;\"\n\t\t\t\t\t\tclass=\"text-ellipsis font-sm mt-1 text-light-muted\">{{item.name}}</text>\n\t\t\t\t</view>\n\t\t\t\t<!-- + -->\n\t\t\t\t<view class=\"flex flex-column align-center justify-start my-2\" style=\"width: 142rpx;\">\n\t\t\t\t\t<view @click=\"openMail\"  hover-stay-time='50'  hover-start-time='0' hover-class=\"bg-hover-light\" class=\"rounded flex align-center justify-center\"\n\t\t\t\t\t\tstyle=\"width: 110rpx;height: 110rpx;border-color:#A9A5A0 ; border-style:dashed ;border-width: 2rpx;\">\n\t\t\t\t\t\t<text class=\"text-light-muted\"\n\t\t\t\t\t\t\tstyle=\"font-size: 90rpx ; \">+</text>\n\t\t\t\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\n\t\t\t\t<!-- - -->\n\t\t\t\t<view v-if=\"detail.chat_type==='group'||user_id===user.id\" class=\"flex flex-column align-center justify-start my-2\"\n\t\t\t\t\tstyle=\"width: 150rpx;order:999\">\n\t\t\t\t\t<view @click=\"deleteUser\"  hover-stay-time='50'  hover-start-time='0' hover-class=\"bg-light\" class=\"rounded flex align-center justify-center\"\n\t\t\t\t\t\tstyle=\"width: 110rpx;height: 110rpx;border-color:#A9A5A0 ; border-style:dashed;border-width: 2rpx;\">\n\t\t\t\t\t\t<text class=\"text-light-muted\"\n\t\t\t\t\t\t\tstyle=\"font-size: 90rpx ; \">-</text>\n\t\t\t\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 群 -->\n\t\t\t<view v-if=\"detail.chat_type==='group'\">\n\t\t\t\t<free-divider></free-divider>\n\t\t\t\t<free-liat-item @click='updateName' boxStyle='height:110rpx;' :showLeftIcon='false' textClassP='py-3 ml-3'\n\t\t\t\t\ttitle=\"群聊名称\" showRight>\n\t\t\t\t\t<text style=\"max-width: 360rpx;text-overflow: ellipsis;\" class=\"text-ellipsis font text-muted\"\n\t\t\t\t\t\tslot='right'>{{detail.name}}</text>\n\t\t\t\t</free-liat-item>\n\t\t\t\t<free-liat-item @click='openCode' boxStyle='height:110rpx;' :showLeftIcon='false' textClassP='py-3  ml-3'\n\t\t\t\t\ttitle=\"群二维码\" showRight>\n\t\t\t\t\t<view slot='right'>\n\t\t\t\t\t\t<text class=\"iconfont text-muted font-lg py-15\">&#xe6bb;</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t</free-liat-item>\n\t\t\t\t<free-liat-item @click='openGroupRemark' :boxStyle='detail.remark.trim()!==\"\"?\"height:120rpx;\":\"height:110rpx;\"' :showLeftIcon='false'\n\t\t\t\t:Subtitle='detail.remark.trim()!==\"\"?detail.remark:false'\ttextClassP='py-3  ml-3' title=\"群公告\" showRight>\n\t\t\t\t\t\n\t\t\t\t</free-liat-item>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 个人 -->\n\t\t\t<free-divider></free-divider>\n\t\t\t<free-liat-item @click='openHiestory' boxStyle='height:110rpx;' :showLeftIcon='false' textClassP='py-3  ml-3'\n\t\t\t\ttitle=\"查找聊天记录\" showRight></free-liat-item>\n\t\t\t\n\t\t\t<free-divider></free-divider>\n\t\t\t<free-liat-item bghover=\"bg-white\" boxStyle='height:110rpx;' :showRightIcon='false' :showLeftIcon='false' textClassP='py-3  ml-3'\n\t\t\t\ttitle=\"消息免打扰\" showRight>\n\t\t\t\t<switch @change=\"updateChatItem($event,'nowarn')\" style=\"transform:scale(0.8)\" color=\"#06BD5D\" slot='right'\n\t\t\t\t\t:checked=\"detail.nowarn\" />\n\t\t\t</free-liat-item>\n\t\t\t<free-liat-item bghover=\"bg-white\" boxStyle='height:110rpx;' :showRightIcon='false' :showLeftIcon='false' textClassP='py-3  ml-3'\n\t\t\t\ttitle=\"置顶聊天\" showRight>\n\t\t\t\t<switch @change=\"updateChatItem($event,'istop')\" style=\"transform:scale(0.8)\" color=\"#06BD5D\" slot='right'\n\t\t\t\t\t:checked=\"detail.istop\" />\n\t\t\t</free-liat-item>\n\t\t\t<free-liat-item bghover=\"bg-white\" boxStyle='height:110rpx;' :showRightIcon='false' :showLeftIcon='false' textClassP='py-3  ml-3'\n\t\t\t\ttitle=\"提醒\" showRight>\n\t\t\t\t<switch @change=\"updateChatItem($event,'strongwarn')\" style=\"transform:scale(0.8)\" color=\"#06BD5D\"\n\t\t\t\t\tslot='right' :checked=\"detail.strongwarn\" />\n\t\t\t</free-liat-item>\n\t\t\t\n\t\t\t<!-- 群 -->\n\t\t\t<view v-if=\"detail.chat_type==='group'\">\n\t\t\t\t<free-divider></free-divider>\n\t\t\t\t<free-liat-item @click='updateNickname' boxStyle='height:110rpx;' :showLeftIcon='false'\n\t\t\t\t\ttextClassP='py-3  ml-3' title=\"我在群里的昵称\" showRight>\n\t\t\t\t\t<text style=\"max-width: 360rpx;\" class=\"text-ellipsis font text-muted\" slot='right'>{{nickname}}</text>\n\t\t\t\t</free-liat-item>\n\t\t\t\t<free-liat-item bghover=\"bg-white\" boxStyle='height:110rpx;' :showRightIcon='false' :showLeftIcon='false'\n\t\t\t\t\ttextClassP='py-3  ml-3' title=\"显示群成员昵称\" showRight>\n\t\t\t\t\t<switch :checked=\"detail.shownickname\" @change=\"updateChatItem($event,'shownickname')\"\n\t\t\t\t\t\tstyle=\"transform:scale(0.8)\" color=\"#06BD5D\" slot='right' />\n\t\t\t\t</free-liat-item>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 个人 -->\n\t\t\t<view v-if=\"detail.chat_type==='user'\">\n\t\t\t\t<free-divider></free-divider>\n\t\t\t\t<free-liat-item @click=\"clear\" boxStyle='height:110rpx;' :showLeftIcon='false' textClassP='py-3  ml-3' title=\"清空聊天记录\"\n\t\t\t\t\tshowRight></free-liat-item>\n\t\t\t</view>\n\t\t\t<free-divider></free-divider>\n\t\t\t<free-liat-item @click='openReport' boxStyle='height:110rpx;' :showLeftIcon='false' textClassP='py-3  ml-3'\n\t\t\t\ttitle=\"投诉\" showRight>\n\t\t\t</free-liat-item>\n\t\t\t\n\t\t\t<!-- 群 -->\n\t\t\t<view v-if=\"detail.chat_type==='group'\">\n\t\t\t\t<free-divider></free-divider>\n\t\t\t\t<view @click=\"clear\"  hover-stay-time='50'  hover-start-time='0' hover-class=\"bg-hover-light\" style=\"height: 110rpx;border-color: #ededed ;\"\n\t\t\t\t\tclass=\"border-bottom  bg-white  flex align-center justify-center \">\n\t\t\t\t\t<text style=\"font-weight: 600;\" class=\"font text-danger\">清空聊天记录</text>\n\t\t\t\t</view>\n\t\t\t\t<view @click=\"quit\"  hover-stay-time='50'  hover-start-time='0' hover-class=\"bg-light\" style=\"height: 110rpx;\"\n\t\t\t\t\tclass=\"bg-white  flex align-center justify-center \">\n\t\t\t\t\t<text style=\"font-weight: 600;\" class=\"font text-danger\">删除并退出</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<free-confirm ref='confirm' :title=\"'修改'+confirmTitle\">\n\t\t\t\t<input type=\"text\" v-model=\"confirmText\" class=\"border-bottom font-md\" :placeholder=\"confirmTitle\">\n\t\t\t</free-confirm>\n\t\t\t\n\t\t\t<view style=\"height: 80rpx;\">\n\t\t\t\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState\r\n\t} from \"vuex\"\r\n\timport $H from \"@/common/free-lib/request.js\"\r\n\timport auth from \"@/common/mixin/auth.js\"\r\n\timport freeConfirm from \"@/components/free-ui/free-confirm.vue\"\r\n\timport freeDivider from \"@/components/free-ui/free-divider.vue\"\r\n\timport freeNavBar from \"@/components/free-ui/free-nav-bar.vue\"\r\n\timport freeAvater from \"@/components/free-ui/free-avater.vue\"\r\n\timport freeLiatItem from \"@/components/free-ui/free-list-item.vue\"\r\n\texport default {\r\n\t\tmixins: [auth],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: [],\r\n\t\t\t\tnickname: \"\", //我在本群昵称\r\n\t\t\t\tconfirmType: 'name',\r\n\t\t\t\tconfirmText: '',\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\tid: 0, // 接收人/群 id\r\n\t\t\t\t\tchat_type: 'user', // 接收类型 user单聊 group群聊\r\n\t\t\t\t\tavatar: '', // 接收人/群 头像\r\n\t\t\t\t\tname: '', // 接收人/群 昵称\r\n\r\n\t\t\t\t\tistop: false, // 是否置顶\r\n\t\t\t\t\tshownickname: true, // 是否显示昵称\r\n\t\t\t\t\tnowarn: false, // 消息免打扰\r\n\t\t\t\t\tstrongwarn: false, // 是否开启强提醒\r\n\r\n\t\t\t\t\tuser_id: 0, // 群管理员id\r\n\t\t\t\t\tremark: \"\", // 群公告\r\n\t\t\t\t\tinvite_confirm: 0, // 邀请确认\r\n\t\t\t\t},\n\t\t\t\tuser_id:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tfreeDivider,\r\n\t\t\tfreeNavBar,\r\n\t\t\tfreeAvater,\r\n\t\t\tfreeLiatItem,\r\n\t\t\tfreeConfirm\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.chat.readChatItem(this.detail.id, this.detail.chat_type)\r\n\t\t\tif (this.detail.chat_type === 'group') {\r\n\t\t\t\t$H.get('/group_info/' + this.detail.id).then(res => {\n\t\t\t\t\tthis.user_id=res.user_id\r\n\t\t\t\t\tthis.list = res.group_users.map(item => {\r\n\t\t\t\t\t\tif (item.user_id === this.user.id) {\r\n\t\t\t\t\t\t\tthis.nickname = item.nickname || item.user.nickname || item.user.username\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tid: item.user_id,\r\n\t\t\t\t\t\t\tname: item.nickname || item.user.nickname || item.user.username,\r\n\t\t\t\t\t\t\tavatar: item.user.avatar\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.detail.remark = res.remark\r\n\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\t// console.log(this.detail.shownickname);\r\n\t\t\tif (!e.params) {\r\n\t\t\t\treturn this.backToast()\r\n\t\t\t}\r\n\t\t\tlet detail = JSON.parse(e.params)\n\t\t\t\r\n\t\t\t// 获取当前会话详细资料\r\n\t\t\tdetail = this.chat.getChatListItem(detail.id, detail.chat_type)\r\n\t\t\tif (!detail) {\r\n\t\t\t\treturn this.backToast()\r\n\t\t\t}\r\n\t\t\tthis.detail = detail\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tchat: state => state.user.chat,\r\n\t\t\t\tuser: state => state.user.user\r\n\t\t\t}),\r\n\t\t\tconfirmTitle() {\r\n\t\t\t\treturn this.confirmType === 'name' ? '群昵称' : '昵称'\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 跳转投诉页面\r\n\t\t\topenReport() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/mail/user-report/user-report?params=' + JSON.stringify({\r\n\t\t\t\t\t\tuser_id: this.detail.id,\r\n\t\t\t\t\t\ttype: this.chat_type\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\topenUser(item){\n\t\t\t\tif(this.detail.chat_type==='group'){\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl:\"/pages/mail/user-base/user-base?user_id=\"+item.id\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl:\"/pages/mail/user-base/user-base?user_id=\"+this.detail.id\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\r\n\t\t\tupdateChatItem(e, k) {\r\n\t\t\t\t// console.log(this.detail);\r\n\t\t\t\tthis.detail[k] = e.detail.value\r\n\r\n\t\t\t\tthis.chat.updateChatItem({\r\n\t\t\t\t\tid: this.detail.id,\r\n\t\t\t\t\tchat_type: this.detail.chat_type,\r\n\t\t\t\t}, this.detail)\r\n\t\t\t},\r\n\t\t\t//修改我在本群昵称\r\n\t\t\tupdateNickname() {\r\n\t\t\t\tthis.confirmType = 'nickname'\r\n\t\t\t\tthis.confirmText = this.nickname\r\n\t\t\t\tthis.$refs.confirm.show((close) => {\r\n\r\n\t\t\t\t\tif (this.confirmText === this.nickname) {\r\n\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"名称未修改（待优化）\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$H.post('/group/nickname', {\r\n\t\t\t\t\t\tid: this.detail.id,\r\n\t\t\t\t\t\tnickname: this.confirmText\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '修改成功',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.nickname = this.confirmText\r\n\t\t\t\t\t\tclose()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 修改群昵称\r\n\t\t\tupdateName() {\n\t\t\t\tif(this.user_id!==this.user.id){\n\t\t\t\t\treturn uni.showToast({\n\t\t\t\t\t\ttitle:'你不是管理员，没有权限',\n\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t})\n\t\t\t\t}\r\n\t\t\t\tthis.confirmType = 'name'\r\n\t\t\t\tthis.confirmText = this.detail.name\r\n\t\t\t\tthis.$refs.confirm.show((close) => {\r\n\t\t\t\t\tif (this.confirmText == '') {\r\n\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"群昵称不能为空\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.confirmText === this.detail.name) {\r\n\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"群名称未修改（待优化）\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$H.post('/group/rename', {\r\n\t\t\t\t\t\tid: this.detail.id,\r\n\t\t\t\t\t\tname: this.confirmText\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '修改成功',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.detail.name = this.confirmText\r\n\t\t\t\t\t\tthis.chat.readChatItem(this.detail.id, this.detail.chat_type)\r\n\t\t\t\t\t\tclose()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenMail() {\r\n\t\t\t\tlet params = this.detail.chat_type === 'user' ? '?type=createGroup&id=' + this.detail.id  : '?type=inviteGroup&id=' + this.detail.id + '&detail=' + JSON.stringify(this.list)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../../mail/mail/mail' + params,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topenGroupRemark() {\n\t\t\t\tif(this.user_id!==this.user.id){\n\t\t\t\t\treturn uni.showToast({\n\t\t\t\t\t\ttitle:'你不是管理员，没有权限',\n\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t})\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../group-remark/group-remark?params=' + encodeURIComponent(JSON.stringify({\r\n\t\t\t\t\t\tid: this.detail.id,\r\n\t\t\t\t\t\tremark: this.detail.remark\r\n\t\t\t\t\t}))\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 删除并退出\r\n\t\t\tquit() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '是否要删除或退出该群聊？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.cancel) return\r\n\t\t\t\t\t\t$H.post('/group/quit', {\r\n\t\t\t\t\t\t\tid: this.detail.id\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '操作成功',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\turl: '/pages/tabber/index/index'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenCode() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../../my/code/code?params=' + encodeURIComponent(JSON.stringify({\r\n\t\t\t\t\t\tid: this.detail.id,\r\n\t\t\t\t\t\tname: this.detail.name,\r\n\t\t\t\t\t\tavatar: this.detail.avatar,\r\n\t\t\t\t\t})) + '&type=group'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclear() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '是否要清除聊天记录？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.chat.clearChatDetail(this.detail.id, this.detail.chat_type)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '清除成功',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.$emit('updateHistory')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenHiestory() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `../chat-history/chat-history?chat_type=${this.detail.chat_type}&id=${this.detail.id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeleteUser() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../group-user/group-user?id=' + this.detail.id\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-set.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat-set.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1655376689781\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}