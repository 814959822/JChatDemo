{"version":3,"sources":["uni-app:///main.js","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/find/momentInfo/momentInfo.nvue?4245","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/find/momentInfo/momentInfo.nvue?4152","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/find/momentInfo/momentInfo.nvue?86c6","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/find/momentInfo/momentInfo.nvue?10b9","uni-app:///pages/find/momentInfo/momentInfo.nvue","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/find/momentInfo/momentInfo.nvue?7c76","webpack:////Users/jhq/WeChatProjects/weixinApp/pages/find/momentInfo/momentInfo.nvue?55c1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/find/momentInfo/momentInfo.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/find/momentInfo/momentInfo.nvue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./momentInfo.nvue?vue&type=template&id=3868b5cc&\"\nvar renderjs\nimport script from \"./momentInfo.nvue?vue&type=script&lang=js&\"\nexport * from \"./momentInfo.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./momentInfo.nvue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/find/momentInfo/momentInfo.nvue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./momentInfo.nvue?vue&type=template&id=3868b5cc&\"","var render = function () {}\nvar staticRenderFns = []\nvar recyclableRender\nvar components\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./momentInfo.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./momentInfo.nvue?vue&type=script&lang=js&\"","<style>\n  view,\n  label,\n  swiper-item,\n  scroll-view {\n    display:flex;\n    flex-direction:column;\n    flex-shrink: 0;\n    flex-grow: 0;\n    flex-basis: auto;\n    align-items: stretch;\n    align-content: flex-start;\n  }\n  view,\n  image,\n  input,\n  scroll-view,\n  swiper,\n  swiper-item,\n  text,\n  textarea,\n  video {\n    position: relative;\n    border: 0px solid #000000;\n    box-sizing: border-box;\n  }\n  swiper-item {\n    position: absolute;\n  }\n  button {\n    margin: 0;\n  }\n</style>\n<template>\n\t<free-nav-bar :showRight='false' showBack title=\"详情\">\n\t</free-nav-bar>\r\n\t<view  class=\"p-3 flex align-start border-light-secondary\">\r\n\t\t\r\n\t\t<!-- 头像 -->\r\n\t\t<free-avater @click='openUser' size='80' :src='item.avatar'></free-avater>\r\n\t\t<view class=\"pl-2 flex-1 flex flex-column\">\r\n\t\t\t<!-- 昵称 -->\r\n\t\t\t<text class=\"font-md font-weight-bold mb-1 text-hover-primary\">{{item.user_name}}</text>\r\n\t\t\t<!-- 内容 -->\r\n\t\t\t<text v-if=\"item.content\" class=\"font text-dark mb-1\">{{item.content}}</text>\n\t\t\t<!-- 图片 -->\n\t\t\t<view v-if=\"item.image.length\" class=\"py-2 flex flex-wrap\">\n\t\t\t\t<block v-for=\"(image,imageIndex) in item.image\" :key='imageIndex'>\n\t\t\t\t\t<!-- 单图 -->\n\t\t\t\t\t<free-image @click='preview(image)' v-if=\"item.image.length===1\"\n\t\t\t\t\t\timageClass='bg-chat' :src='image'>\n\t\t\t\t\t</free-image>\n\t\t\t\t\t<!-- 多图 -->\n\t\t\t\t\t<image @click='preview(image)' v-else :src=\"image\" mode=\"aspectFill\"\n\t\t\t\t\t\tstyle=\"width: 180rpx;height: 180rpx;margin-right: 5rpx;margin-bottom: 5rpx;\"\n\t\t\t\t\t\tclass=\"bg-chat\"></image>\n\t\t\t\t</block>\n\t\t\t</view>\n\t\t\t<!-- 视频 -->\n\t\t\t<view v-else-if=\"item.video\" class=\"py-2\">\n\t\t\t\t<video :src=\"item.video.src\" class=\"bg-chat ro\" :poster=\"item.video.poster\" style=\"height: 300rpx; width: 500rpx;\" loop\n\t\t\t\t\tcontrols></video>\n\t\t\t</view>\n\t\t\t<!-- 时间 -->\n\t\t\t<view class=\"flex align-center justify-between\">\n\t\t\t\t<text class=\"font-sm text-light-muted\">{{item.created_at|formatTime}}</text>\n\t\t\t\t<view @click=\"doAction({item,index})\" class=\"rounded px-1 bg-chat\">\n\t\t\t\t\t<text class=\"font-lg text-hover-primary iconfont\">&#xe611;</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 点赞｜评论列表 -->\n\t\t\t<view v-if=\"item.likes.length||item.comments.length\" class=\"bg-chat rounded mt-2\">\n\t\t\t\t<!-- 点赞 -->\n\t\t\t\t<view v-if=\"item.likes.length\" class=\"flex align-start px-2\">\n\t\t\t\t\t<text\n\t\t\t\t\t\tclass=\"flex-shrink align-center iconfont font-sm font-weight-bold py-1 text-hover-primary\">&#xe62e;</text>\n\t\t\t\t\t<view class=\"flex flex-1  flex-wrap\">\n\t\t\t\t\t\t<text v-for=\"(s,si) in item.likes\" :key='si'\n\t\t\t\t\t\t\tclass=\"font-sm py-1 font-weight-bold text-hover-primary ml-1\">{{s.name}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 评论 -->\n\t\t\t\t<view :class=\"(item.likes.length&&item.comments.length)?'border-top':''\" v-if=\"item.comments.length\"\n\t\t\t\t\tclass=\"flex align-start px-2\">\n\t\t\t\t\t<view class=\"flex flex-column flex-1\">\n\t\t\t\t\t\t<view v-for=\"(c,ci) in item.comments\" :key='ci' class=\" py-1 flex\">\n\t\t\t\t\t\t\t<text v-if=\"!c.reply\" class=\"text-hover-primary font-weight-bold font-sm\">{{c.user.name}}</text>\n\t\t\t\t\t\t\t<view v-else class=\"flex align-center\">\n\t\t\t\t\t\t\t\t<text class=\"text-hover-primary font-weight-bold font-sm\">{{c.user.name}}</text>\n\t\t\t\t\t\t\t\t<text class=\"text-muted font-sm\">回复</text>\n\t\t\t\t\t\t\t\t<text class=\"text-hover-primary font-weight-bold font-sm\">{{c.reply.name}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text @click=\"replyEvent({index,reply:c.user,item})\"\n\t\t\t\t\t\t\t\tclass=\"font-sm  flex-1 text-dark\">:{{c.content}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 评论框 -->\r\n\t\t<free-popup ref='action' fixedBottom transformOrigin=''>\r\n\t\t\t<view class=\"border-bottom flex px-3 bg-light align-center\" style=\"height: 105rpx;\">\r\n\t\t\t\t<textarea @blur=\"focusState = false\"  :focus='focusState' v-model=\"content\" fixed\r\n\t\t\t\t\tclass=\"bg-white flex flex-1 rounded px-2 p-1 mr-1 font-md\" :adjust-position='false'\r\n\t\t\t\t\tstyle=\" height: 75rpx;\" />\r\n\r\n\t\t\t\t<!-- 表情 -->\r\n\t\t\t\t<free-icon-button @click=\"changeFaceModal\" iconfontSize='font-max' :icon=\"!faceModal?'\\ue608':'\\ue605'\">\r\n\t\t\t\t</free-icon-button>\r\n\t\t\t\t<!-- 发送按钮 -->\r\n\t\t\t\t<view @click=\"send\" :class=\"content.length===0?'bg-light border-2 border-secondary':'main-bg-color'\"\r\n\t\t\t\t\tclass=\"ml-1 px-2 flex align-center py-1 rounded\" style=\" white-space: nowrap;height: 65rpx;\">\r\n\t\t\t\t\t<text class=\"font\" :class=\"content.length===0?'text-light-muted':'text-white'\">发送</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 表情 -->\r\n\t\t\t<scroll-view scroll-y=\"true\" :style=\"getKeyboardHeight\" class=\"bg-light\">\r\n\t\t\t\t<view v-if=\"faceModal\" class=\"flex flex-wrap\">\r\n\t\t\t\t\t<view style=\"width: 107rpx;height: 107rpx;\" class=\"flex align-center rounded-2 justify-center\"\r\n\t\t\t\t\t\thover-stay-time='50' hover-start-time='0' hover-class=\"bg-hover-light\"\r\n\t\t\t\t\t\tv-for=\"(item,index) in faceList\" :key=\"index\" @click=\"addFace(item)\">\r\n\t\t\t\t\t\t<text>{{item}}</text>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</free-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState\r\n\t} from \"vuex\"\r\n\timport $H from \"@/common/free-lib/request.js\"\n\timport $T from \"@/common/free-lib/time.js\"\r\n\timport freeAvater from \"@/components/free-ui/free-avater.vue\"\r\n\timport freeIconButton from \"@/components/free-ui/free-icon-button.vue\"\r\n\timport freePopup from \"@/components/free-ui/free-popup.vue\"\r\n\timport freeNavBar from \"@/components/free-ui/free-nav-bar.vue\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tfaceList: [\"😀\", \"😁\", \"😂\", \"😃\", \"😄\", \"😅\", \"😆\", \"😉\", \"😊\", \"😋\", \"😎\", \"😍\", \"😘\", \"😗\",\r\n\t\t\t\t\t\"😙\", \"😚\", \"😇\", \"😐\", \"😑\", \"😶\", \"😏\", \"😣\", \"😥\", \"😮\", \"😯\", \"😪\", \"😫\", \"😴\",\r\n\t\t\t\t\t\"😌\", \"😛\", \"😜\", \"😝\", \"😒\", \"😓\", \"😔\", \"😕\", \"😲\", \"😷\", \"😖\", \"😞\", \"😟\", \"😤\",\r\n\t\t\t\t\t\"😢\", \"😭\", \"😦\", \"😧\", \"😨\", \"😬\", \"😰\", \"😱\", \"😳\", \"😵\", \"😡\", \"😠\"\r\n\t\t\t\t],\r\n\t\t\t\tfaceModal: false,\r\n\t\t\t\t// 评论对象\r\n\t\t\t\tcommentindex: -1,\r\n\r\n\t\t\t\t//键盘高度\r\n\t\t\t\tKeyHeight: 0,\r\n\t\t\t\tKeyboardHeight: 0,\r\n\t\t\t\t// 键盘焦点\r\n\t\t\t\tfocusState: true,\r\n\t\t\t\treply_user: false,\r\n\t\t\t\tshow: false,\r\n\t\t\t\titem: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.scrollTop = e.scrollTop\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tfreeNavBar,\r\n\t\t\tfreeIconButton,\r\n\t\t\tfreePopup,\r\n\t\t\tfreeAvater\r\n\t\t},\n\t\tfilters: {\n\t\t\tformatTime(value) {\n\t\t\t\treturn $T.gettime(value)\n\t\t\t}\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getData()\r\n\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\r\n\t\t\tif (e.item) {\r\n\t\t\t\tthis.item = JSON.parse(decodeURIComponent(e.item))\r\n\t\t\t}\r\n\r\n\t\t\tuni.$on('momentNotice', this.momentNotice)\r\n\t\t\treturn this.show = true\r\n\t\t},\r\n\t\tdestroyed() {\r\n\t\t\tuni.$off('momentNotice', this.momentNotice)\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 监听键盘高度\r\n\t\t\tuni.onKeyboardHeightChange(res => {\r\n\t\t\t\tthis.KeyHeight = res.height\n\t\t\t\tthis.faceModal = false\r\n\t\t\t\tif (this.KeyboardHeight === 0) {\r\n\t\t\t\t\tthis.KeyboardHeight = res.height\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tuser: state => state.user.user\r\n\t\t\t}),\r\n\t\t\tnickname() {\r\n\t\t\t\treturn this.item.user_name\r\n\t\t\t},\r\n\t\t\tavatar() {\r\n\t\t\t\tlet avatar = ''\r\n\t\t\t\tavatar = this.item.avatar\r\n\r\n\t\t\t\treturn avatar = avatar || '/static/images/userpic.png'\r\n\t\t\t},\r\n\t\t\tgetKeyboardHeight() {\r\n\t\t\t\t// #ifdef APP-PLUS-NVUE\n\t\t\t\t\r\n\t\t\t\treturn this.KeyboardHeight ? `height:${this.KeyboardHeight}px;` : 'height:0rpx;'\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif (this.faceModal) {\r\n\t\t\t\t\treturn 'height:350rpx;'\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topenUser() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/mail/user-base/user-base?user_id=\" + this.item.user_id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 回复评论\r\n\t\t\treplyEvent(e) {\r\n\t\t\t\tthis.content = ''\r\n\t\t\t\tthis.faceModal = false\r\n\t\t\t\tthis.commentindex = e.index\r\n\t\t\t\tthis.reply_user = e.reply\r\n\t\t\t\tthis.$refs.action.show()\r\n\t\t\t},\r\n\t\t\t// 点击操作菜单\r\n\t\t\tdoAction(e) {\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['点赞', '评论'],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\t\tthis.doSupport()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.content = ''\r\n\t\t\t\t\t\t\tthis.faceModal = false\r\n\t\t\t\t\t\t\tthis.focusState = true\r\n\t\t\t\t\t\t\tthis.commentindex = e.index\r\n\t\t\t\t\t\t\tthis.$refs.action.show()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点赞\r\n\t\t\tdoSupport() {\r\n\t\t\t\t$H.post('/moment/like', {\r\n\t\t\t\t\tid: this.item.moment_id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet i = this.item.likes.findIndex(item => item.id === this.user.id)\r\n\t\t\t\t\tif (i !== -1) {\r\n\t\t\t\t\t\t// 取消点赞\r\n\t\t\t\t\t\tthis.item.likes.splice(i, 1)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 点赞\r\n\t\t\t\t\t\tthis.item.likes.push({\r\n\t\t\t\t\t\t\tid: this.user.id,\r\n\t\t\t\t\t\t\tname: this.user.nickname || this.user.username\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: i !== -1 ? '取消点赞成功' : '点赞成功',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 添加表情\r\n\t\t\taddFace(item) {\r\n\t\t\t\tthis.content += item\r\n\t\t\t},\r\n\t\t\t// 开启或关闭表情包面板\r\n\t\t\tchangeFaceModal() {\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.faceModal = !this.faceModal\r\n\r\n\t\t\t\t}, 100)\r\n\t\t\t\tif (!this.faceModal) {\r\n\t\t\t\t\tuni.hideKeyboard()\r\n\r\n\t\t\t\t\tthis.focusState = false\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.focusState = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 发送\r\n\t\t\tsend() {\r\n\t\t\t\t$H.post('/moment/comment', {\r\n\t\t\t\t\tid: this.item.moment_id,\r\n\t\t\t\t\tcontent: this.content,\r\n\t\t\t\t\treply_id: this.reply_user ? this.reply_user.id : 0\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.item.comments.push({\r\n\t\t\t\t\t\tcontent: this.content,\r\n\t\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t\tid: this.user.id,\r\n\t\t\t\t\t\t\tname: this.user.nickname || this.user.username\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\treply: this.reply ? this.reply : null\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '评论成功',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.$refs.action.hide()\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./momentInfo.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./momentInfo.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1655376689763\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}