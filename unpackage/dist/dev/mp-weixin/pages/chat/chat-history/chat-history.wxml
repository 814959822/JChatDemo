<view class="page"><free-nav-bar vue-id="7cda3455-1" showNavbar="{{isNavBar}}" title="聊天记录" showRight="{{false}}" showBack="{{true}}" bind:__l="__l" vue-slots="{{['bottom','maskBottom']}}"><view class="px-3 py-2 flex  bg-light" style="z-index:10;" slot="bottom"><view class="bg-white flex-row flex flex-1 rounded"><block wx:if="{{!isNavBar}}"><view class="flex align-center justify-center" style="height:60rpx;width:60rpx;"><text class="iconfont font"></text></view></block><input class="font flex-1 px-2" style="height:60rpx;width:100rpx;" placeholder-style="{{isNavBar?'text-align: center;':'text-align:start'}}" type="text" placeholder="搜索" value="{{keyword}}" data-event-opts="{{[['focus',[['focus',['$event']]]],['input',[['__set_model',['','keyword','$event',[]]]]]]}}" bindfocus="__e" bindinput="__e"/></view><block wx:if="{{!isNavBar}}"><view data-event-opts="{{[['tap',[['blur',['$event']]]]]}}" class="pl-3 pr-1  flex align-center justify-center rounded" style="height:60rpx;" bindtap="__e"><text class="font text-hover-primary">取消</text></view></block></view><view slot="maskBottom"><block wx:if="{{!isNavBar&&!keyword}}"><view data-event-opts="{{[['tap',[['blur',['$event']]]]]}}" class="position-fixed left-0 right-0 bottom-0" style="{{'background-color:rgba(0,0,0,.5);'+('top:'+navBarHeight+'px;')}}" bindtap="__e"></view></block></view></free-nav-bar><view style="{{(isNavBar?'height: 100rpx;':'height: 10rpx;')}}"></view><scroll-view scroll-y="true"><block wx:for="{{allList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view id="{{'chatItem_'+index}}"><free-chat-item class="vue-ref-in-for" vue-id="{{'7cda3455-2-'+index}}" shownickname="{{true}}" pretime="{{index>0?list[index-1].create_time:''}}" item="{{item}}" index="{{index}}" data-ref="chatItem" bind:__l="__l"></free-chat-item></view></block><block wx:if="{{keyword!==''&&searchList.length===0}}"><view class="flex align-center justify-center" style="height:100rpx;"><text class="font text-light-muted">暂无搜索结果</text></view></block></scroll-view></view>